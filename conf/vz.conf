<?xml version="1.0"?>
<!--
    ViZualizator
    (Real-Time TV graphics production system)

    Copyright (C) 2005 Maksym Veremeyenko.
    This file is part of ViZualizator (Real-Time TV graphics production system).
    Contributed by Maksym Veremeyenko, verem@m1stereo.tv, 2005.

    ViZualizator is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    ViZualizator is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ViZualizator; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

ChangeLog:
    2006-12-05:
        *'TWICE_FIELDS' option added

    2006-12-04:
        *test pattern selection parameters for 'nullvideo' added

    2006-12-01:
        *'nullvideo' added features for live input.

    2006-11-26:
        *'nullvideo' has additional parameters for cpu/system bus load test.

    2006-09-30:
        *Parameter 'enable_GL_SRC_ALPHA_SATURATE' can be used with
         parameter 'enable_glBlendFuncSeparateEXT' to improve or
         'degradate' picture quality :-)) need some play

    2005-06-25:
	*Parameter 'use_offscreen_buffer' moved to new section 'vzOutput'.

    2005-06-23:
	*Add enhancing framebuffer transfering parameter 'use_offscreen_buffer'
	to 'main' section. 
    2005-06-20:
	*Added frame/fields based rendering mode parameter 'fields' to 
	vzMain section.

    2005-06-10:
	*Added new section for configuring 'vzMain' module. That section
	contains 2 new parameters:
	'blend_dst_alpha' - enable 'destination alpha' blending mode
	if you use external downstream keyer.
	'enable_glBlendFuncSeparateEXT' - enable to use GL-extension
        function to avoid 2-pass rendering (Warning! GeForce4200Ti is
	SLOWWWW!!! VERY!!!, but tested with FX5200 fine!

    2005-06-08:
	*Added 'tcpserver section for configuring tcp port of server
	and internal commands buffer length
	*Added 'tvspec' section provided information about tv-frames 
	durations and dimensions
	*Modified 'streamalpha' section. All parameters hard-coded before in
	binary libarary now are configurable.

-->

<config>
	<module name="main">
		<!-- output module name -->
<!--		<param name="output" value="nullvideo" />  -->
<!--		<param name="output" value="streamalpha" />    --> 
	</module>

	<!-- equipe timer plugin params -->
<!--	<module name="equipe_timer">
		<param name="serial_port_name" value="COM1:" />
	</module> -->


	<module name="vzOutput">
		<!--
			enable to use asyncronous reading of framebuffer
			based on 'GL_EXT_pixel_buffer_object' GL extension
		-->
		<param name="use_offscreen_buffer" value="defined" /> 
	</module>

	<module name="vzMain">
		<!--  define field-based rendering mode used -->
		<param name="fields" value="defined" /> 

		<!-- Destination Alpha Blending Mode (top TO down render order) -->
		<param name="blend_dst_alpha" value="defined"/>

		<!-- enable -->
		<param name="enable_glBlendFuncSeparateEXT" value="defined"/>

		<!-- enable -->
		<param name="enable_GL_SRC_ALPHA_SATURATE" value="defined"/>
	</module>

	<module name="tvspec">
		<!-- long TV_FRAME_DUR_MS;// frame length (time period) (ms)  -->
		<param name="TV_FRAME_DUR_MS" value="40"/>

		<!-- long TV_FRAME_HEIGHT;	// frame height (px) -->
		<param name="TV_FRAME_HEIGHT" value="576"/>

		<!-- long TV_FRAME_WIDTH;// frame width (px) -->
		<param name="TV_FRAME_WIDTH" value="720"/>

		<!-- long TV_FRAME_1ST;	// first field in frame -->
		<param name="TV_FRAME_1ST" value="0"/>

		<!-- long TV_FRAME_PS;	// frames per seconds -->
		<param name="TV_FRAME_PS" value="25"/>

	</module>

	<module name="tcpserver">
		<param name="enable" value="defined"/>
		<param name="port" value="8001"/>
		<param name="bufsize" value="8192"/>
	</module>

	<module name="streamalpha">
<!--
		<param name="ColorSubcarrierPhase" value="1"/>
		<param name="SDEL" value="1"/>
		<param name="ADEL" value="1"/>

		<param name="PROGRAM_GRAPHICSONLY" value="defined"/>
		<param name="PREVIEW_GRAPHICSONLY" value="defined"/> -->
		<param name="PROGRAM_OVERLAY" value="defined"/>
		<param name="PREVIEW_OVERLAY" value="defined"/>
		<param name="DMUX_OFF" value="defined"/>
-->

		<param name="MODE_BYPASS_OFF" value="defined"/>
		<param name="MEM_4444" value="defined"/>
		<param name="CHROMAKEY_OFF" value="defined"/>
		<param name="MODE_PAL" value="defined"/>
		<param name="MULTIPLY_ALPHA_OFF" value="defined"/>
		<param name="SWITCH_OUPUT_ON_PREVIEW_OFF" value="defined"/>
	</module>

	<!-- test output module for cpu/bus load -->
	<module name="nullvideo">
<!--		<param name="YUV_CONVERT" value="defined"/> -->
		<param name="OUTPUT_BUF_TRANSFER" value="defined"/>
		<param name="INPUTS_COUNT" value="1"/>
		<param name="FIELD_MODE" value="defined"/>
<!--		<param name="TWICE_FIELDS" value="defined"/> -->
                <!-- patterns: 0-bars, 1-grid, 2-lines -->
		<param name="INPUT_1_PATTERN" value="2"/>
		<param name="INPUT_2_PATTERN" value="0"/>
		<param name="INPUT_3_PATTERN" value="0"/>
		<param name="INPUT_4_PATTERN" value="0"/>

	</module>

</config>
